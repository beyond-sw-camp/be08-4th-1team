import{B as K,e as Q,o as h,j as y,k as s,y as w,m as _,H as X,a1 as Z,E as p,x as t,v as r,M as ee,q as $,A,t as te,S as ae,L as le,W as ne}from"./index-BaXTvT8w.js";import{c as se,d as oe,b as ie}from"./index-DRPdype-.js";import{s as re,a as de}from"./index-BQp_UNXb.js";import{s as ue}from"./index-BWH2JpRW.js";var ce=function(v){var d=v.dt;return`
.p-toolbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    padding: `.concat(d("toolbar.padding"),`;
    background: `).concat(d("toolbar.background"),`;
    border: 1px solid `).concat(d("toolbar.border.color"),`;
    color: `).concat(d("toolbar.color"),`;
    border-radius: `).concat(d("toolbar.border.radius"),`;
    gap: `).concat(d("toolbar.gap"),`;
}

.p-toolbar-start,
.p-toolbar-center,
.p-toolbar-end {
    display: flex;
    align-items: center;
}
`)},pe={root:"p-toolbar p-component",start:"p-toolbar-start",center:"p-toolbar-center",end:"p-toolbar-end"},ve=K.extend({name:"toolbar",theme:ce,classes:pe}),me={name:"BaseToolbar",extends:Q,props:{ariaLabelledby:{type:String,default:null}},style:ve,provide:function(){return{$pcToolbar:this,$parentInstance:this}}},D={name:"Toolbar",extends:me,inheritAttrs:!1},fe=["aria-labelledby"];function be(o,v,d,u,m,f){return h(),y("div",_({class:o.cx("root"),role:"toolbar","aria-labelledby":o.ariaLabelledby},o.ptmi("root")),[s("div",_({class:o.cx("start")},o.ptm("start")),[w(o.$slots,"start")],16),s("div",_({class:o.cx("center")},o.ptm("center")),[w(o.$slots,"center")],16),s("div",_({class:o.cx("end")},o.ptm("end")),[w(o.$slots,"end")],16)],16,fe)}D.render=be;const Se={getStudentsData(){return[{id:"2000",name:"John Doe",class:"Grade 10",attendanceStatus:"휴가"},{id:"2001",name:"Jane Smith",class:"Grade 10",attendanceStatus:"조퇴"},{id:"2002",name:"Michael Johnson",class:"Grade 9",attendanceStatus:"병가"},{id:"2003",name:"Emily Davis",class:"Grade 11",attendanceStatus:"휴가"},{id:"2004",name:"Daniel Garcia",class:"Grade 10",attendanceStatus:"병가"},{id:"2005",name:"Sophia Martinez",class:"Grade 9",attendanceStatus:"조퇴"},{id:"2006",name:"Chris Brown",class:"Grade 8",attendanceStatus:"휴가"},{id:"2007",name:"Olivia Wilson",class:"Grade 11",attendanceStatus:"병가"}]},getStudentsMini(){return Promise.resolve(this.getStudentsData().slice(0,5))},getStudentsSmall(){return Promise.resolve(this.getStudentsData().slice(0,10))},getStudents(){return Promise.resolve(this.getStudentsData())}},ge={class:"card"},he={class:"flex flex-wrap gap-2 items-center justify-between"},ye=s("h4",{class:"m-0"},"Manage Attendance",-1),_e=s("i",{class:"pi pi-search"},null,-1),ke={class:"flex flex-col gap-6"},xe=s("label",{for:"name",class:"block font-bold mb-3"},"Name",-1),Ce={key:0,class:"text-red-500"},we=s("label",{for:"class",class:"block font-bold mb-3"},"Class",-1),$e=s("label",{for:"attendanceStatus",class:"block font-bold mb-3"},"Attendance Status",-1),Ae={class:"flex items-center gap-4"},De=s("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1),Ve={key:0},Ne={class:"flex items-center gap-4"},Pe=s("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1),Me={key:0},Ge={__name:"Attendance",setup(o){X(()=>{Se.getStudents().then(n=>u.value=n)});const v=Z(),d=p(),u=p([]),m=p(!1),f=p(!1),b=p(!1),e=p({}),c=p([]),k=p({global:{value:null,matchMode:ae.CONTAINS}}),S=p(!1),V=p([{label:"휴가",value:"휴가"},{label:"조퇴",value:"조퇴"},{label:"병가",value:"병가"}]);function N(){e.value={},S.value=!1,m.value=!0}function P(){m.value=!1,S.value=!1}function M(){var n;S.value=!0,(n=e==null?void 0:e.value.name)!=null&&n.trim()&&(e.value.id?(e.value.attendanceStatus=e.value.attendanceStatus.value?e.value.attendanceStatus.value:e.value.attendanceStatus,u.value[G(e.value.id)]=e.value,v.add({severity:"success",summary:"Successful",detail:"Student Approved",life:3e3})):(e.value.id=U(),u.value.push(e.value),v.add({severity:"success",summary:"Successful",detail:"Student Approved",life:3e3})),m.value=!1,e.value={})}function T(n){e.value={...n},m.value=!0}function L(n){e.value=n,f.value=!0}function I(){u.value=u.value.filter(n=>n.id!==e.value.id),f.value=!1,e.value={},v.add({severity:"success",summary:"Successful",detail:"Student Deleted",life:3e3})}function B(){c.value.forEach(n=>{n.attendanceStatus="Approved"}),v.add({severity:"success",summary:"Approved",detail:"Selected Students Approved",life:3e3}),c.value=[]}function G(n){return u.value.findIndex(a=>a.id===n)}function U(){let n="";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<5;i++)n+=a.charAt(Math.floor(Math.random()*a.length));return n}function E(){d.value.exportCSV()}function q(){b.value=!0}function R(){u.value=u.value.filter(n=>!c.value.includes(n)),b.value=!1,c.value=null,v.add({severity:"success",summary:"Successful",detail:"Students Deleted",life:3e3})}function j(n){switch(n){case"휴가":return"info";case"조퇴":return"warning";case"병가":return"danger";case"Approved":return"success";default:return null}}return(n,a)=>{const i=le,F=D,J=se,x=ne,O=oe,g=de,W=ue,Y=re,z=ie,C=ee;return h(),y("div",null,[s("div",ge,[t(F,{class:"mb-6"},{start:r(()=>[t(i,{label:"New",icon:"pi pi-plus",severity:"secondary",class:"mr-2",onClick:N}),t(i,{label:"Approve",icon:"pi pi-check",severity:"success",onClick:B,disabled:!c.value||!c.value.length},null,8,["disabled"]),t(i,{label:"Delete",icon:"pi pi-trash",severity:"danger",onClick:q,disabled:!c.value||!c.value.length},null,8,["disabled"])]),end:r(()=>[t(i,{label:"Export",icon:"pi pi-upload",severity:"secondary",onClick:a[0]||(a[0]=l=>E(l))})]),_:1}),t(Y,{ref_key:"dt",ref:d,selection:c.value,"onUpdate:selection":a[2]||(a[2]=l=>c.value=l),value:u.value,dataKey:"id",paginator:!0,rows:10,filters:k.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} students"},{header:r(()=>[s("div",he,[ye,t(O,null,{default:r(()=>[t(J,null,{default:r(()=>[_e]),_:1}),t(x,{modelValue:k.value.global.value,"onUpdate:modelValue":a[1]||(a[1]=l=>k.value.global.value=l),placeholder:"Search..."},null,8,["modelValue"])]),_:1})])]),default:r(()=>[t(g,{selectionMode:"multiple",style:{width:"3rem"},exportable:!1}),t(g,{field:"name",header:"Name",sortable:"",style:{"min-width":"16rem"}}),t(g,{field:"class",header:"Class",sortable:"",style:{"min-width":"10rem"}}),t(g,{field:"attendanceStatus",header:"Attendance",sortable:"",style:{"min-width":"12rem"}},{body:r(l=>[t(W,{value:l.data.attendanceStatus,severity:j(l.data.attendanceStatus)},null,8,["value","severity"])]),_:1}),t(g,{exportable:!1,style:{"min-width":"12rem"}},{body:r(l=>[t(i,{icon:"pi pi-check",outlined:"",rounded:"",class:"mr-2",onClick:H=>T(l.data)},null,8,["onClick"]),t(i,{icon:"pi pi-trash",outlined:"",rounded:"",severity:"danger",onClick:H=>L(l.data)},null,8,["onClick"])]),_:1})]),_:1},8,["selection","value","filters"])]),t(C,{visible:m.value,"onUpdate:visible":a[6]||(a[6]=l=>m.value=l),style:{width:"450px"},header:"Approve Student",modal:!0},{footer:r(()=>[t(i,{label:"Cancel",icon:"pi pi-times",text:"",onClick:P}),t(i,{label:"Approve",icon:"pi pi-check",severity:"success",onClick:M})]),default:r(()=>[s("div",ke,[s("div",null,[xe,t(x,{id:"name",modelValue:e.value.name,"onUpdate:modelValue":a[3]||(a[3]=l=>e.value.name=l),modelModifiers:{trim:!0},required:"true",autofocus:"",invalid:S.value&&!e.value.name,fluid:""},null,8,["modelValue","invalid"]),S.value&&!e.value.name?(h(),y("small",Ce,"Name is required.")):$("",!0)]),s("div",null,[we,t(x,{id:"class",modelValue:e.value.class,"onUpdate:modelValue":a[4]||(a[4]=l=>e.value.class=l),required:"true",fluid:""},null,8,["modelValue"])]),s("div",null,[$e,t(z,{id:"attendanceStatus",modelValue:e.value.attendanceStatus,"onUpdate:modelValue":a[5]||(a[5]=l=>e.value.attendanceStatus=l),options:V.value,optionLabel:"label",placeholder:"Select a Status",fluid:""},null,8,["modelValue","options"])])])]),_:1},8,["visible"]),t(C,{visible:f.value,"onUpdate:visible":a[8]||(a[8]=l=>f.value=l),style:{width:"450px"},header:"Confirm",modal:!0},{footer:r(()=>[t(i,{label:"No",icon:"pi pi-times",text:"",onClick:a[7]||(a[7]=l=>f.value=!1)}),t(i,{label:"Yes",icon:"pi pi-check",onClick:I})]),default:r(()=>[s("div",Ae,[De,e.value?(h(),y("span",Ve,[A("Are you sure you want to delete "),s("b",null,te(e.value.name),1),A("?")])):$("",!0)])]),_:1},8,["visible"]),t(C,{visible:b.value,"onUpdate:visible":a[10]||(a[10]=l=>b.value=l),style:{width:"450px"},header:"Confirm",modal:!0},{footer:r(()=>[t(i,{label:"No",icon:"pi pi-times",text:"",onClick:a[9]||(a[9]=l=>b.value=!1)}),t(i,{label:"Yes",icon:"pi pi-check",text:"",onClick:R})]),default:r(()=>[s("div",Ne,[Pe,e.value?(h(),y("span",Me,"Are you sure you want to delete the selected students?")):$("",!0)])]),_:1},8,["visible"])])}}};export{Ge as default};
